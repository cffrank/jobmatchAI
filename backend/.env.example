# =============================================================================
# JobMatch AI Backend - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
# NEVER commit .env files to version control.

# -----------------------------------------------------------------------------
# Supabase Configuration
# -----------------------------------------------------------------------------
# Get these from your Supabase project settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
# Get this from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key

# -----------------------------------------------------------------------------
# SendGrid Configuration
# -----------------------------------------------------------------------------
# Get this from https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key
# Must be a verified sender in SendGrid
SENDGRID_FROM_EMAIL=noreply@jobmatch-ai.com

# -----------------------------------------------------------------------------
# LinkedIn OAuth Configuration
# -----------------------------------------------------------------------------
# Get these from https://www.linkedin.com/developers/apps
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
LINKEDIN_REDIRECT_URI=https://api.jobmatch-ai.railway.app/api/auth/linkedin/callback

# -----------------------------------------------------------------------------
# Apify Configuration (for job scraping)
# -----------------------------------------------------------------------------
# Get this from https://console.apify.com/account/integrations
APIFY_API_TOKEN=your-apify-api-token

# -----------------------------------------------------------------------------
# JSearch Configuration (RapidAPI - for multi-source job search)
# -----------------------------------------------------------------------------
# Get your API key from https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch
# Sign up process:
#   1. Visit https://rapidapi.com and create a free account
#   2. Subscribe to JSearch API (free tier: 1000 requests/hour, 500K/month)
#   3. Copy your RapidAPI key from the dashboard
#   4. Paste it below
# API Documentation: https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch
# Free tier limits: 1000 requests/hour, 500,000 requests/month
# Pricing: https://rapidapi.com/letscrape-6bRBa3QguO5/api/jsearch/pricing
JSEARCH_API_KEY=your-rapidapi-key-here
JSEARCH_API_HOST=jsearch.p.rapidapi.com

# -----------------------------------------------------------------------------
# RemoteOK Configuration (for remote job scraping)
# -----------------------------------------------------------------------------
# RemoteOK API is FREE and does NOT require an API key
# However, a User-Agent is required to identify your application
# Format: AppName/Version (Contact URL or Email)
# Get started: https://remoteok.com/api
# API is public: No registration or authentication needed
# Rate limits: Best practice is 1 request per second (enforced automatically)
# Cost: FREE (no API key required)
REMOTEOK_USER_AGENT=JobMatchAI/1.0 (https://github.com/yourorg/jobmatch-ai)

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development

# Frontend URL for CORS and redirects (primary frontend)
APP_URL=http://localhost:5173

# Additional allowed origins (comma-separated, optional)
# Use this to allow multiple frontend deployments (Cloudflare Pages, Vercel, etc.)
# Example: https://yourapp.pages.dev,https://yourapp.vercel.app
ALLOWED_ORIGINS=

# JWT secret for session tokens (generate a strong random string)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars

# -----------------------------------------------------------------------------
# Rate Limiting Configuration
# -----------------------------------------------------------------------------
# Maximum requests per window per user
RATE_LIMIT_MAX_REQUESTS=100
# Window size in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# -----------------------------------------------------------------------------
# Storage Configuration (for file exports)
# -----------------------------------------------------------------------------
# Supabase Storage bucket name for exports
STORAGE_BUCKET=exports
